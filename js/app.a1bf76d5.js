(function(t){function e(e){for(var r,i,c=e[0],s=e[1],u=e[2],d=0,m=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&m.push(a[i][0]),a[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);l&&l(e);while(m.length)m.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,c=1;c<n.length;c++){var s=n[c];0!==a[s]&&(r=!1)}r&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},a={app:0},o=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/shoppy-list/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=s;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=n("f309");r["a"].use(a["a"]);var o=new a["a"]({}),i=n("2f62"),c=n("ade3"),s=n("2909"),u=n("5530"),l=(n("99af"),n("b0c0"),n("4de4"),n("c740"),n("a434"),{items:[{name:"fraise",quantity:1,category:"fruits & légumes"},{name:"orange",quantity:3}],currentSelection:null}),d={byCategory:function(t){return t.items.reduce((function(t,e){var n=e.category||"other";return Object(u["a"])(Object(u["a"])({},t),{},Object(c["a"])({},n,[].concat(Object(s["a"])(t[n]||[]),[{name:e.name,quantity:e.quantity}])))}),{})}},m={addItem:function(t,e){var n=t.items.some((function(t){return t.name===e.name}));if(n){var r=t.items.filter((function(t){return t.name===e.name}))[0];r.quantity++;var a=t.items.findIndex((function(t){return t.name===e.name}));t.items.splice(a,1,r)}else t.items.push({name:e.name,quantity:1})},updateItem:function(t,e){var n=t.items.findIndex((function(t){return t.name===e.name}));-1!==n&&t.items.splice(n,1,e)},removeItem:function(t,e){var n=t.items.findIndex((function(t){return t.name===e.name}));-1!==n&&t.items.splice(n,1)},select:function(t,e){t.currentSelection=e}},f={},v={namespaced:!0,state:l,getters:d,mutations:m,actions:f},p=n("1da1"),h=(n("96cf"),n("d81d"),n("d3b7"),n("ddb0"),n("d4ec")),b=n("bee2"),g=function(){function t(){Object(h["a"])(this,t),this.data=[{name:"orange",category:"fruits & légumes"},{name:"banane",category:"fruits & légumes"},{name:"vin rouge",category:"alcool"},{name:"café",category:"epicerie"}]}return Object(b["a"])(t,[{key:"getAll",value:function(){var t=this;return new Promise((function(e){setTimeout((function(){e(t.data)}),1e3)}))}},{key:"addNewProduct",value:function(t){var e=Math.random(1);return this.data.push(Object(u["a"])({id:e},t)),Object(u["a"])({id:e},t)}}]),t}(),y=new g,w={values:[]},V={byName:function(t){return t.values.map((function(t){return t.name}))}},x={setProducts:function(t,e){t.values=e},addProduct:function(t,e){t.values.push(e)}},_={_init:function(t){return Object(p["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,y.getAll();case 2:n=e.sent,t.commit("setProducts",n);case 4:case"end":return e.stop()}}),e)})))()},createNewProduct:function(t,e){return Object(p["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,y.addNewProduct(e);case 3:return r=n.sent,t.commit("addProduct",r),t.commit("selection/addItem",r,{root:!0}),n.abrupt("return",r);case 9:return n.prev=9,n.t0=n["catch"](0),n.abrupt("return",n.t0.message);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))()}},I={namespaced:!0,state:w,getters:V,mutations:x,actions:_};r["a"].use(i["a"]);var j=new i["a"].Store({modules:{selection:v,product:I}}),O=j,C=n("8c4f"),k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticStyle:{height:"100%"}},[n("v-row",{attrs:{justify:"center"}},[n("ItemList")],1),n("v-row",{staticClass:"searchBar",attrs:{align:"end"}},[n("ItemSearchBar",{on:{"open-dialog":function(e){t.dialog=!t.dialog}}})],1),n("ItemEditQuantity")],1)},S=[],$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-row",[n("v-list-item-action-text",[t._v(" X "+t._s(t.item.quantity||1)+" ")]),n("v-list-item-content",[t._v(" "+t._s(t.item.name||t.item)+" ")]),n("v-list-item-action",[n("v-row",[n("v-btn",{attrs:{color:"primary",fab:"",icon:""},on:{click:function(e){return t.openUpdateItemModal(t.item)}}},[n("v-icon",[t._v(" mdi-pencil ")])],1),n("v-btn",{attrs:{color:"success",icon:"",fab:""},on:{click:function(e){return t.removeItem(t.item)}}},[n("v-icon",[t._v("mdi-check")])],1)],1)],1)],1),t.isLastItem(t.item)?t._e():n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-divider")],1)],1)],1)},P=[],q={props:{item:{type:Object,required:!0}},methods:{isLastItem:function(t){var e=this.$store.state.selection.items,n=e.length,r=e.indexOf(t);return r+1===n},openUpdateItemModal:function(t){this.$store.commit("selection/select",t)},removeItem:function(t){this.$store.commit("selection/removeItem",t)}}},N=q,R=n("2877"),L=n("6544"),T=n.n(L),B=n("8336"),E=n("62ad"),M=n("a523"),A=n("ce7e"),D=n("132d"),F=n("1800"),Q=n("5d23"),J=n("0fd9"),U=Object(R["a"])(N,$,P,!1,null,null,null),X=U.exports;T()(U,{VBtn:B["a"],VCol:E["a"],VContainer:M["a"],VDivider:A["a"],VIcon:D["a"],VListItemAction:F["a"],VListItemActionText:Q["a"],VListItemContent:Q["b"],VRow:J["a"]});var z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,a=e.attrs;return[n("v-btn",t._g(t._b({attrs:{color:"primary",dark:""}},"v-btn",a,!1),r),[t._v(" Add new item ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("ItemCreationForm",{on:{"close-modal":function(e){t.dialog=!1}}})],1)},G=[],H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",[n("v-card-title",[t._v(" Créer un nouveau produit ")]),n("v-card-text",[n("v-form",[n("v-text-field",{attrs:{label:"Nom du produit",outlined:""},model:{value:t.productName,callback:function(e){t.productName=e},expression:"productName"}}),n("v-select",{attrs:{items:t.categories,label:"Categorie",outlined:""},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}}),n("v-btn",{attrs:{disabled:t.isValid,color:"secondary"},on:{click:t.createProduct}},[t._v(" Add ")])],1)],1)],1)},K=[],W=function(){function t(){Object(h["a"])(this,t),this.values=[]}return Object(b["a"])(t,[{key:"fetchData",value:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){return setTimeout((function(){e.values=["epicerie salée","epicerie sucrée","fruits & légumes","alcool"],t(e.values)}),3e3)})));case 1:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getCategories",value:function(){return this.values}}]),t}(),Y=new W,Z={data:function(){return{productName:null,category:null,categories:[]}},computed:{isValid:function(){return!this.productName||!this.category}},created:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Y.fetchData();case 2:n=e.sent,t.categories=n;case 4:case"end":return e.stop()}}),e)})))()},methods:{createProduct:function(){var t={name:this.productName,category:this.category};this.$store.dispatch("product/createNewProduct",t),this.$emit("close-modal")}}},tt=Z,et=n("b0af"),nt=n("99d9"),rt=n("4bd4"),at=n("b974"),ot=n("8654"),it=Object(R["a"])(tt,H,K,!1,null,null,null),ct=it.exports;T()(it,{VBtn:B["a"],VCard:et["a"],VCardText:nt["a"],VCardTitle:nt["b"],VForm:rt["a"],VSelect:at["a"],VTextField:ot["a"]});var st={components:{ItemCreationForm:ct},data:function(){return{dialog:!1}}},ut=st,lt=n("169a"),dt=Object(R["a"])(ut,z,G,!1,null,null,null),mt=dt.exports;T()(dt,{VBtn:B["a"],VDialog:lt["a"]});var ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-bottom-sheet",{model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-sheet",{staticClass:"text-center",attrs:{height:"200px"}},[n("v-btn",{staticClass:"mt-6",attrs:{text:"",color:"red"},on:{click:function(e){return t.$store.commit("selection/select",null)}}},[t._v(" close ")]),n("div",{staticClass:"py-3"},[n("v-form",[n("v-container",[n("v-row",{attrs:{justify:"center",align:"center","no-gutters":""}},[n("v-col",{attrs:{cols:"2"}},[t._v("Qt :")]),n("v-col",{attrs:{cols:"3"}},[n("v-text-field",{attrs:{type:"number"},model:{value:t.quantity,callback:function(e){t.quantity=e},expression:"quantity"}})],1),n("v-col",{attrs:{cols:"2"}},[n("v-btn",{attrs:{fab:"",small:""},on:{click:t.updateQuantity}},[n("v-icon",[t._v("mdi-update")])],1)],1)],1)],1)],1)],1)],1)],1)},vt=[],pt={data:function(){return{dialog:!1,quantity:null}},computed:{select:function(){return this.$store.state.selection.currentSelection}},methods:{updateQuantity:function(){this.$store.commit("selection/updateItem",Object(u["a"])(Object(u["a"])({},this.select),{},{quantity:this.quantity})),this.$store.commit("selection/select",null)}},watch:{select:function(){this.quantity=this.select&&this.select.quantity||null,this.dialog=!!this.select}}},ht=pt,bt=n("288c"),gt=n("8dd9"),yt=Object(R["a"])(ht,ft,vt,!1,null,null,null),wt=yt.exports;T()(yt,{VBottomSheet:bt["a"],VBtn:B["a"],VCol:E["a"],VContainer:M["a"],VForm:rt["a"],VIcon:D["a"],VRow:J["a"],VSheet:gt["a"],VTextField:ot["a"]});var Vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.items.length?n("v-card",[n("v-list",[t._l(t.items,(function(t,e){return n("v-list-item",{key:e},[n("Item",{attrs:{item:t}})],1)})),n("v-divider")],2)],1):n("v-row",{staticStyle:{"min-height":"500px"},attrs:{justify:"center",align:"center"}},[n("v-spacer"),n("v-col",{attrs:{cols:"12"}},[n("p",[t._v("No product recorded yet.")]),n("p",[t._v("Start adding one")])]),n("v-spacer")],1)},xt=[],_t={components:{Item:X},data:function(){return{categories:[]}},computed:{items:function(){return this.$store.state.selection.items},itemsByCategory:function(){return this.$store.getters["selection/byCategory"]}},created:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Y.fetchData();case 2:t.categories=Y.getCategories();case 3:case"end":return e.stop()}}),e)})))()}},It=_t,jt=(n("658d"),n("8860")),Ot=n("da13"),Ct=n("2fa4"),kt=Object(R["a"])(It,Vt,xt,!1,null,"53aa373c",null),St=kt.exports;T()(kt,{VCard:et["a"],VCol:E["a"],VDivider:A["a"],VList:jt["a"],VListItem:Ot["a"],VRow:J["a"],VSpacer:Ct["a"]});var $t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",{attrs:{justify:"center","no-gutters":""}},[n("v-col",{attrs:{cols:"7","align-self":"center"}},[n("v-autocomplete",{attrs:{items:t.items,clearable:"",solo:""},on:{keyup:t.updateCurrentValue},scopedSlots:t._u([{key:"no-data",fn:function(){return[n("v-list-item",{staticClass:"d-flex flex-column space-around"},[n("v-list-item-title",[t._v(" No result ")]),n("v-list-item-content",[n("ItemCreationModal")],1)],1)]},proxy:!0}]),model:{value:t.select,callback:function(e){t.select=e},expression:"select"}})],1),n("v-col",{attrs:{cols:"1"}},[n("v-btn",{attrs:{disabled:!t.select,fab:"",color:"success"},on:{click:t.addItemToSelection}},[n("v-icon",[t._v(" mdi-plus ")])],1)],1)],1)},Pt=[],qt={name:"ItemSearchBar",components:{ItemCreationModal:mt},data:function(){return{select:null}},computed:{items:function(){return this.$store.getters["product/byName"]}},methods:{updateCurrentValue:function(t){return console.log(t.target.value),t.target.value},addItemToSelection:function(){this.$store.commit("selection/addItem",{name:this.select})}}},Nt=qt,Rt=n("c6a6"),Lt=Object(R["a"])(Nt,$t,Pt,!1,null,null,null),Tt=Lt.exports;T()(Lt,{VAutocomplete:Rt["a"],VBtn:B["a"],VCol:E["a"],VIcon:D["a"],VListItem:Ot["a"],VListItemContent:Q["b"],VListItemTitle:Q["c"],VRow:J["a"]});var Bt={name:"ShoppingList",components:{ItemList:St,ItemSearchBar:Tt,ItemEditQuantity:wt},data:function(){return{dialog:!1}},created:function(){this.$store.dispatch("product/_init")}},Et=Bt,Mt=(n("8b7b"),Object(R["a"])(Et,k,S,!1,null,"89b78a98",null)),At=Mt.exports;T()(Mt,{VContainer:M["a"],VRow:J["a"]}),r["a"].use(C["a"]);var Dt=[{path:"/",name:"Shopping List",component:At}],Ft=new C["a"]({mode:"history",base:"/shoppy-list/",routes:Dt}),Qt=Ft,Jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("v-app",[n("v-main",[n("v-container",{staticStyle:{height:"100%"},attrs:{fluid:""}},[n("router-view")],1)],1)],1)],1)},Ut=[],Xt={},zt=Xt,Gt=(n("5c0b"),n("7496")),Ht=n("f6c4"),Kt=Object(R["a"])(zt,Jt,Ut,!1,null,null,null),Wt=Kt.exports;T()(Kt,{VApp:Gt["a"],VContainer:M["a"],VMain:Ht["a"]}),r["a"].config.productionTip=!1,new r["a"]({store:O,router:Qt,vuetify:o,render:function(t){return t(Wt)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";n("9c0c")},"658d":function(t,e,n){"use strict";n("c950")},"8b7b":function(t,e,n){"use strict";n("8ccd")},"8ccd":function(t,e,n){},"9c0c":function(t,e,n){},c950:function(t,e,n){}});
//# sourceMappingURL=app.a1bf76d5.js.map