(function(t){function e(e){for(var r,i,c=e[0],s=e[1],u=e[2],m=0,d=[];m<c.length;m++)i=c[m],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);l&&l(e);while(d.length)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,c=1;c<n.length;c++){var s=n[c];0!==a[s]&&(r=!1)}r&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},a={app:0},o=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/shoppy-list/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=s;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=n("f309");r["a"].use(a["a"]);var o=new a["a"]({}),i=n("2f62"),c=n("2909"),s=n("15fd"),u=(n("c740"),n("b0c0"),n("99af"),n("d3b7"),n("ddb0"),n("4de4"),n("a434"),["category"]),l={items:[{name:"fraise",quantity:1,category:"fruits & légumes"},{name:"bananes",quantity:1,category:"fruits & légumes"},{name:"orange",quantity:1,category:"fruits & légumes"},{name:"café",quantity:1,category:"epicerie"}],currentSelection:null},m={byCategory:function(t){return t.items.reduce((function(t,e){var n=e.category,r=Object(s["a"])(e,u),a=n||"other",o=t.findIndex((function(t){return t.name===a}));return-1===o?[].concat(Object(c["a"])(t),[{name:a,values:[r]}]):(t[o].values.push(r),t)}),[])}},d={addItem:function(t,e){var n=t.items.some((function(t){return t.name===e.name}));if(n){var r=t.items.filter((function(t){return t.name===e.name}))[0];r.quantity++;var a=t.items.findIndex((function(t){return t.name===e.name}));t.items.splice(a,1,r)}else t.items.push({name:e.name,quantity:1})},updateItem:function(t,e){var n=t.items.findIndex((function(t){return t.name===e.name}));-1!==n&&t.items.splice(n,1,e)},removeItem:function(t,e){var n=t.items.findIndex((function(t){return t.name===e.name}));-1!==n&&t.items.splice(n,1)},select:function(t,e){t.currentSelection=e}},f={},p={namespaced:!0,state:l,getters:m,mutations:d,actions:f},v=n("1da1"),h=(n("96cf"),n("d81d"),n("5530")),g=n("d4ec"),b=n("bee2"),y=function(){function t(){Object(g["a"])(this,t),this.data=[{name:"orange",category:"fruits & légumes"},{name:"banane",category:"fruits & légumes"},{name:"vin rouge",category:"alcool"},{name:"café",category:"epicerie"}]}return Object(b["a"])(t,[{key:"getAll",value:function(){var t=this;return new Promise((function(e){setTimeout((function(){e(t.data)}),1e3)}))}},{key:"addNewProduct",value:function(t){var e=Math.random(1);return this.data.push(Object(h["a"])({id:e},t)),Object(h["a"])({id:e},t)}}]),t}(),w=new y,x={values:[]},V={byName:function(t){return t.values.map((function(t){return t.name}))}},_={setProducts:function(t,e){t.values=e},addProduct:function(t,e){t.values.push(e)}},I={_init:function(t){return Object(v["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,w.getAll();case 2:n=e.sent,t.commit("setProducts",n);case 4:case"end":return e.stop()}}),e)})))()},createNewProduct:function(t,e){return Object(v["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,w.addNewProduct(e);case 3:return r=n.sent,t.commit("addProduct",r),t.commit("selection/addItem",r,{root:!0}),n.abrupt("return",r);case 9:return n.prev=9,n.t0=n["catch"](0),n.abrupt("return",n.t0.message);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))()}},j={namespaced:!0,state:x,getters:V,mutations:_,actions:I};r["a"].use(i["a"]);var O=new i["a"].Store({modules:{selection:p,product:j}}),C=O,k=n("8c4f"),S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticStyle:{height:"100%"}},[n("v-row",{attrs:{justify:"center"}},[n("ItemList")],1),n("v-row",{staticClass:"searchBar",attrs:{align:"end"}},[n("ItemSearchBar",{on:{"open-dialog":function(e){t.dialog=!t.dialog}}})],1),n("ItemEditQuantity")],1)},$=[],P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-row",[n("v-list-item-action-text",[t._v(" X "+t._s(t.item.quantity||1)+" ")]),n("v-list-item-content",{staticClass:"ml-3"},[t._v(" "+t._s(t.item.name||t.item)+" ")]),n("v-list-item-action",[n("v-row",[n("v-btn",{attrs:{"x-small":"",color:"primary",fab:"",icon:""},on:{click:function(e){return t.openUpdateItemModal(t.item)}}},[n("v-icon",[t._v(" mdi-pencil ")])],1),n("v-btn",{attrs:{color:"success",icon:"",fab:"","x-small":""},on:{click:function(e){return t.removeItem(t.item)}}},[n("v-icon",[t._v("mdi-check")])],1)],1)],1)],1)],1)},q=[],L={props:{item:{type:Object,required:!0}},methods:{isLastItem:function(t){var e=this.$store.state.selection.items,n=e.length,r=e.indexOf(t);return r+1===n},openUpdateItemModal:function(t){this.$store.commit("selection/select",t)},removeItem:function(t){this.$store.commit("selection/removeItem",t)}}},N=L,R=n("2877"),T=n("6544"),B=n.n(T),E=n("8336"),M=n("a523"),A=n("132d"),F=n("1800"),Q=n("5d23"),D=n("0fd9"),J=Object(R["a"])(N,P,q,!1,null,null,null),U=J.exports;B()(J,{VBtn:E["a"],VContainer:M["a"],VIcon:A["a"],VListItemAction:F["a"],VListItemActionText:Q["a"],VListItemContent:Q["b"],VRow:D["a"]});var G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,a=e.attrs;return[n("v-btn",t._g(t._b({attrs:{color:"primary",dark:""}},"v-btn",a,!1),r),[t._v(" Add new item ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("ItemCreationForm",{on:{"close-modal":function(e){t.dialog=!1}}})],1)},X=[],z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",[n("v-card-title",[t._v(" Créer un nouveau produit ")]),n("v-card-text",[n("v-form",[n("v-text-field",{attrs:{label:"Nom du produit",outlined:""},model:{value:t.productName,callback:function(e){t.productName=e},expression:"productName"}}),n("v-select",{attrs:{items:t.categories,label:"Categorie",outlined:""},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}}),n("v-btn",{attrs:{disabled:t.isValid,color:"secondary"},on:{click:t.createProduct}},[t._v(" Add ")])],1)],1)],1)},H=[],K=function(){function t(){Object(g["a"])(this,t),this.values=[]}return Object(b["a"])(t,[{key:"fetchData",value:function(){var t=Object(v["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){return setTimeout((function(){e.values=["epicerie salée","epicerie sucrée","fruits & légumes","alcool"],t(e.values)}),3e3)})));case 1:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getCategories",value:function(){return this.values}}]),t}(),W=new K,Y={data:function(){return{productName:null,category:null,categories:[]}},computed:{isValid:function(){return!this.productName||!this.category}},created:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,W.fetchData();case 2:n=e.sent,t.categories=n;case 4:case"end":return e.stop()}}),e)})))()},methods:{createProduct:function(){var t={name:this.productName,category:this.category};this.$store.dispatch("product/createNewProduct",t),this.$emit("close-modal")}}},Z=Y,tt=n("b0af"),et=n("99d9"),nt=n("4bd4"),rt=n("b974"),at=n("8654"),ot=Object(R["a"])(Z,z,H,!1,null,null,null),it=ot.exports;B()(ot,{VBtn:E["a"],VCard:tt["a"],VCardText:et["a"],VCardTitle:et["b"],VForm:nt["a"],VSelect:rt["a"],VTextField:at["a"]});var ct={components:{ItemCreationForm:it},data:function(){return{dialog:!1}}},st=ct,ut=n("169a"),lt=Object(R["a"])(st,G,X,!1,null,null,null),mt=lt.exports;B()(lt,{VBtn:E["a"],VDialog:ut["a"]});var dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-bottom-sheet",{model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-sheet",{staticClass:"text-center",attrs:{height:"200px"}},[n("v-btn",{staticClass:"mt-6",attrs:{text:"",color:"red"},on:{click:function(e){return t.$store.commit("selection/select",null)}}},[t._v(" close ")]),n("div",{staticClass:"py-3"},[n("v-form",[n("v-container",[n("v-row",{attrs:{justify:"center",align:"center","no-gutters":""}},[n("v-col",{attrs:{cols:"2"}},[t._v("Qt :")]),n("v-col",{attrs:{cols:"3"}},[n("v-text-field",{attrs:{type:"number"},model:{value:t.quantity,callback:function(e){t.quantity=e},expression:"quantity"}})],1),n("v-col",{attrs:{cols:"2"}},[n("v-btn",{attrs:{fab:"",small:""},on:{click:t.updateQuantity}},[n("v-icon",[t._v("mdi-update")])],1)],1)],1)],1)],1)],1)],1)],1)},ft=[],pt={data:function(){return{dialog:!1,quantity:null}},computed:{select:function(){return this.$store.state.selection.currentSelection}},methods:{updateQuantity:function(){this.$store.commit("selection/updateItem",Object(h["a"])(Object(h["a"])({},this.select),{},{quantity:this.quantity})),this.$store.commit("selection/select",null)}},watch:{select:function(){this.quantity=this.select&&this.select.quantity||null,this.dialog=!!this.select}}},vt=pt,ht=n("288c"),gt=n("62ad"),bt=n("8dd9"),yt=Object(R["a"])(vt,dt,ft,!1,null,null,null),wt=yt.exports;B()(yt,{VBottomSheet:ht["a"],VBtn:E["a"],VCol:gt["a"],VContainer:M["a"],VForm:nt["a"],VIcon:A["a"],VRow:D["a"],VSheet:bt["a"],VTextField:at["a"]});var xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.items.length?n("v-card",[n("v-list",{attrs:{dense:""}},t._l(t.itemsByCategory,(function(e,r){return n("v-list-group",{key:r,scopedSlots:t._u([{key:"activator",fn:function(){return[n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:t._s(e.name)}})],1)]},proxy:!0}],null,!0)},t._l(e.values,(function(t,e){return n("v-list-item",{key:e},[n("Item",{attrs:{item:t}})],1)})),1)})),1)],1):n("v-row",{staticStyle:{"min-height":"500px"},attrs:{justify:"center",align:"center"}},[n("v-spacer"),n("v-col",{attrs:{cols:"12"}},[n("p",[t._v("No product recorded yet.")]),n("p",[t._v("Start adding one")])]),n("v-spacer")],1)},Vt=[],_t={components:{Item:U},data:function(){return{categories:[]}},computed:{items:function(){return this.$store.state.selection.items},itemsByCategory:function(){return this.$store.getters["selection/byCategory"]}},created:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,W.fetchData();case 2:t.categories=W.getCategories();case 3:case"end":return e.stop()}}),e)})))()}},It=_t,jt=(n("a387"),n("8860")),Ot=n("56b0"),Ct=n("da13"),kt=n("2fa4"),St=Object(R["a"])(It,xt,Vt,!1,null,"7d451316",null),$t=St.exports;B()(St,{VCard:tt["a"],VCol:gt["a"],VList:jt["a"],VListGroup:Ot["a"],VListItem:Ct["a"],VListItemContent:Q["b"],VListItemTitle:Q["c"],VRow:D["a"],VSpacer:kt["a"]});var Pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",{attrs:{justify:"center","no-gutters":""}},[n("v-col",{attrs:{cols:"7","align-self":"center"}},[n("v-autocomplete",{attrs:{items:t.items,clearable:"",solo:"","hide-selected":""},on:{keyup:t.updateCurrentValue},scopedSlots:t._u([{key:"no-data",fn:function(){return[n("v-list-item",{staticClass:"d-flex flex-column space-around"},[n("v-list-item-title",[t._v(" No result ")]),n("v-list-item-content",[n("ItemCreationModal")],1)],1)]},proxy:!0}]),model:{value:t.select,callback:function(e){t.select=e},expression:"select"}})],1),n("v-col",{attrs:{cols:"1"}},[n("v-btn",{attrs:{disabled:!t.select,fab:"",color:"success"},on:{click:t.addItemToSelection}},[n("v-icon",[t._v(" mdi-plus ")])],1)],1)],1)},qt=[],Lt={name:"ItemSearchBar",components:{ItemCreationModal:mt},data:function(){return{select:null}},computed:{items:function(){return this.$store.getters["product/byName"]}},methods:{updateCurrentValue:function(t){return console.log(t.target.value),t.target.value},addItemToSelection:function(){this.$store.commit("selection/addItem",{name:this.select})}}},Nt=Lt,Rt=n("c6a6"),Tt=Object(R["a"])(Nt,Pt,qt,!1,null,null,null),Bt=Tt.exports;B()(Tt,{VAutocomplete:Rt["a"],VBtn:E["a"],VCol:gt["a"],VIcon:A["a"],VListItem:Ct["a"],VListItemContent:Q["b"],VListItemTitle:Q["c"],VRow:D["a"]});var Et={name:"ShoppingList",components:{ItemList:$t,ItemSearchBar:Bt,ItemEditQuantity:wt},data:function(){return{dialog:!1}},created:function(){this.$store.dispatch("product/_init")}},Mt=Et,At=(n("8b7b"),Object(R["a"])(Mt,S,$,!1,null,"89b78a98",null)),Ft=At.exports;B()(At,{VContainer:M["a"],VRow:D["a"]}),r["a"].use(k["a"]);var Qt=[{path:"/",name:"Shopping List",component:Ft}],Dt=new k["a"]({mode:"history",base:"/shoppy-list/",routes:Qt}),Jt=Dt,Ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("v-app",[n("v-main",[n("v-container",{staticStyle:{height:"100%"},attrs:{fluid:""}},[n("router-view")],1)],1)],1)],1)},Gt=[],Xt={},zt=Xt,Ht=(n("5c0b"),n("7496")),Kt=n("f6c4"),Wt=Object(R["a"])(zt,Ut,Gt,!1,null,null,null),Yt=Wt.exports;B()(Wt,{VApp:Ht["a"],VContainer:M["a"],VMain:Kt["a"]}),r["a"].config.productionTip=!1,new r["a"]({store:C,router:Jt,vuetify:o,render:function(t){return t(Yt)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";n("9c0c")},"8b7b":function(t,e,n){"use strict";n("8ccd")},"8ccd":function(t,e,n){},"9c0c":function(t,e,n){},a387:function(t,e,n){"use strict";n("ac6d")},ac6d:function(t,e,n){}});
//# sourceMappingURL=app.9541109b.js.map